<?xml version="1.0" encoding="utf-8"?>
<s:Group xmlns:fx="http://ns.adobe.com/mxml/2009" 
		 xmlns:s="library://ns.adobe.com/flex/spark" 
		 resize="group1_resizeHandler(event)"
		 width="100%" height="40">
	
	<fx:Metadata>
		[Event(name="close", type="flash.events.Event")]
		[Event(name="restore", type="flash.events.Event")]
		[Event(name="minimize", type="flash.events.Event")]
		[Event(name="maximize", type="flash.events.Event")]
	</fx:Metadata>
	<fx:Script>
		<![CDATA[
			import mx.events.ResizeEvent;
			
			protected function btnClose_clickHandler(event:MouseEvent):void
			{
				dispatchEvent(new Event("close"));
			}
			
			protected function btnRestore_clickHandler(event:MouseEvent):void
			{
				dispatchEvent(new Event("restore"));
			}
			
			protected function btnMinimize_clickHandler(event:MouseEvent):void
			{
				dispatchEvent(new Event("minimize"));
			}
			
			protected function btnMaximize_clickHandler(event:MouseEvent):void
			{
				dispatchEvent(new Event("maximize"));
			}
			
			protected function group1_resizeHandler(event:ResizeEvent):void
			{
				if(stage){
					if(stage.nativeWindow.displayState == "maximized"){
						btnRestore.visible = true;
						btnMaximize.visible = false;
					}else{
						btnRestore.visible = false;
						btnMaximize.visible = true;
					}
				}
			}
			
		]]>
	</fx:Script>
	
	<fx:Declarations>
		<!-- Place non-visual elements (e.g., services, value objects) here -->
	</fx:Declarations>
	<s:Button left="0" width="54" height="40" skinClass="org.storybot.skins.button.InfobotButtonSkin"
			  verticalCenter="0"/>
	<s:Button left="54" width="20" height="20" label="Button"
			  skinClass="org.storybot.skins.button.SaveButtonSkin" verticalCenter="0"/>
	<s:Button left="83" width="26" height="20" label="Button"
			  skinClass="org.storybot.skins.button.SaveAsButtonSkin" verticalCenter="0"/>
	<s:Button left="113" width="20" height="20" label="Button"
			  skinClass="org.storybot.skins.button.AddPageButtonSkin" verticalCenter="0"/>
	
	
	<s:HGroup gap="12" horizontalCenter="0" verticalAlign="middle" verticalCenter="0">
		<s:Image source="@Embed('/../assets/new-work-icon.png')"/>
		<s:Label 
			id="lblTitle"
			fontFamily="Arial"
			fontSize="18"
			fontWeight="bold"
			color="0xffffff"
			text = "Title of New Work"
			/>
	</s:HGroup>
	
	<s:Button 
		id="btnClose"
		click="btnClose_clickHandler(event)"
		right="10" width="20" height="20" 
		skinClass="org.storybot.skins.button.AppCloseButtonSkin" verticalCenter="0"/>
	<s:Button 
		id="btnRestore"
		visible="false"
		click="btnRestore_clickHandler(event)"
		right="33" width="20" height="20" 
		skinClass="org.storybot.skins.button.AppRestoreButtonSkin" verticalCenter="0"/>
	<s:Button 
		id="btnMaximize"
		click="btnMaximize_clickHandler(event)"
		right="33" width="20" height="20" 
		skinClass="org.storybot.skins.button.AppMaximizeButtonSkin" verticalCenter="0"/>
	<s:Button 
		id="btnMinimize"
		click="btnMinimize_clickHandler(event)"
		right="56" width="20" height="20" 
		skinClass="org.storybot.skins.button.AppMinimizeButtonSkin" verticalCenter="0"/>
</s:Group>
